(function(){"use strict";var t;t=function(){function t(t,e,s){this.className=t||"",this.element=document.createElement("div"),this.element.classList.add(this.Class.GROUP),this.label=document.createElement("span"),this.label.classList.add(this.Class.LABEL),this.label.addEventListener("dblclick",this.editLabel.bind(this)),this.element.appendChild(this.label),this.textArea=document.createElement("textarea"),this.textArea.classList.add(this.Class.TEXTAREA),this.textArea.setAttribute("rows",1),this.textArea.setAttribute("placeholder","Label"),this.textArea.addEventListener("keydown",this.onKeyDown.bind(this)),this.element.appendChild(this.textArea),this.list=document.createElement("ul"),this.list.classList.add(this.Class.LIST),this.list.classList.add(this.className),$(this.list).sortable({connectWith:"."+this.className,placeholder:this.Class.PLACEHOLDER}).disableSelection(),this.element.appendChild(this.list),"string"==typeof e?this.label.innerText=e:(this.element.classList.add(this.Class.EDIT),this.textArea.focus(),this.textArea.select()),this.setValue(s)}return t.prototype.Class={GROUP:"pocket-group",LABEL:"pocket-label",TEXTAREA:"pocket-textarea",EDIT:"pocket-edit",LIST:"pocket-list",PLACEHOLDER:"pocket-placeholder"},t.prototype.className=null,t.prototype.element=null,t.prototype.label=null,t.prototype.textArea=null,t.prototype.list=null,t.prototype.editLabel=function(t){return t.preventDefault(),this.element.classList.add(this.Class.EDIT),this.textArea.value=this.label.innerText,this.textArea.focus(),this.textArea.select()},t.prototype.onKeyDown=function(t){return 13===t.keyCode?(t.preventDefault(),this.textArea.value.length>0&&(this.label.innerText=this.textArea.value),this.element.classList.remove(this.Class.EDIT)):27===t.keyCode?(t.preventDefault(),this.element.classList.remove(this.Class.EDIT)):void 0},t.prototype.addItem=function(t){var e;return e=document.createElement("li"),e.innerText=t,this.list.appendChild(e)},t.prototype.value=function(t){return null!=t?this.setValue(t):this.getValue()},t.prototype.setValue=function(t){var e,s,i,l;if(null!=t){for(l=[],s=0,i=t.length;i>s;s++)e=t[s],l.push(this.addItem(e));return l}},t.prototype.getValue=function(){var t,e,s,i,l;for(e={label:this.label.innerText,items:[]},l=this.list.querySelectorAll("li"),s=0,i=l.length;i>s;s++)t=l[s],e.items.push(t.innerText);return e},t}(),window.PocketGroup=t}).call(this),function(){"use strict";var t;t=function(){function t(t){this.className=t||"pocket-list",this.element=document.createElement("div"),this.element.classList.add(this.Class.BASE),this.element.innerText="Pocket",this.element.addEventListener("mouseover",this.onMouseOver.bind(this)),this.element.addEventListener("mouseleave",this.onMouseLeave.bind(this)),this.checkbox=document.createElement("input"),this.checkbox.setAttribute("type","checkbox"),this.checkbox.classList.add(this.Class.LOCK),this.checkbox.addEventListener("change",this.onLockChange.bind(this)),this.element.appendChild(this.checkbox),this.button=document.createElement("button"),this.button.classList.add(this.Class.BUTTON),this.button.innerText="+",this.button.addEventListener("click",this.addGroup.bind(this)),this.element.appendChild(this.button),document.body.appendChild(this.element),this.bindSortables(),this.groups=[],this.addGroup("foo"),this.addGroup("bar")}return t.prototype.Class={BASE:"pocket",BUTTON:"pocket-button",LOCK:"pocket-lock",STATE_OPEN:"pocket-open",STATE_LOCKED:"pocket-locked"},t.prototype.className=null,t.prototype.element=null,t.prototype.checkbox=null,t.prototype.groups=null,t.prototype.onMouseOver=function(){return this.element.classList.add(this.Class.STATE_OPEN)},t.prototype.onMouseLeave=function(){return this.element.classList.remove(this.Class.STATE_OPEN)},t.prototype.onLockChange=function(){return this.checkbox.checked?this.element.classList.add(this.Class.STATE_LOCKED):this.element.classList.remove(this.Class.STATE_LOCKED)},t.prototype.addGroup=function(t,e){var s;return s=new PocketGroup(this.className,t,e),this.groups.push(s),this.element.appendChild(s.element)},t.prototype.bindSortables=function(){return $("."+this.className).sortable({connectWith:"."+this.className,placeholder:"pocket-placeholder"}).disableSelection()},t.prototype.value=function(t){return null!=t?this.setValue(t):this.getValue()},t.prototype.clean=function(){var t,e,s,i;for(i=this.groups,e=0,s=i.length;s>e;e++)t=i[e],t.element.remove();return this.groups=[]},t.prototype.setValue=function(t){var e,s,i,l;for(this.clean(),l=[],s=0,i=t.length;i>s;s++)e=t[s],l.push(this.addGroup(e.label,e.items));return l},t.prototype.getValue=function(){var t,e,s,i,l;for(e=[],l=this.groups,s=0,i=l.length;i>s;s++)t=l[s],e.push(t.value());return e},t}(),window.Pocket=t}.call(this);