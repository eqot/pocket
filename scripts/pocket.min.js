(function(){"use strict";var t;t=function(){function t(t,e){return this.className=t||"",this.element=document.createElement("div"),this.element.classList.add(this.Class.GROUP),this.label=document.createElement("span"),this.label.classList.add(this.Class.LABEL),this.label.addEventListener("dblclick",this.editLabel.bind(this)),this.element.appendChild(this.label),this.textArea=document.createElement("textarea"),this.textArea.classList.add(this.Class.TEXTAREA),this.textArea.setAttribute("rows",1),this.textArea.setAttribute("placeholder","Label"),this.textArea.addEventListener("keydown",this.onKeyDown.bind(this)),this.element.appendChild(this.textArea),this.list=document.createElement("ul"),this.list.classList.add(this.Class.LIST),this.list.classList.add(this.className),$(this.list).sortable({connectWith:"."+this.className,placeholder:this.Class.PLACEHOLDER}).disableSelection(),this.element.appendChild(this.list),null!=e?this.label.innerText=e:(this.element.classList.add(this.Class.EDIT),this.textArea.focus(),this.textArea.select()),this.element}return t.prototype.Class={GROUP:"pocket-group",LABEL:"pocket-label",TEXTAREA:"pocket-textarea",EDIT:"pocket-edit",LIST:"pocket-list",PLACEHOLDER:"pocket-placeholder"},t.prototype.className=null,t.prototype.element=null,t.prototype.label=null,t.prototype.textArea=null,t.prototype.list=null,t.prototype.editLabel=function(t){return t.preventDefault(),this.element.classList.add(this.Class.EDIT),this.textArea.value=this.label.innerText,this.textArea.focus(),this.textArea.select()},t.prototype.onKeyDown=function(t){return 13===t.keyCode?(t.preventDefault(),this.textArea.value.length>0&&(this.label.innerText=this.textArea.value),this.element.classList.remove(this.Class.EDIT)):27===t.keyCode?(t.preventDefault(),this.element.classList.remove(this.Class.EDIT)):void 0},t}(),window.PocketGroup=t}).call(this),function(){"use strict";var t;t=function(){function t(t){this.className=t||"pocket-list",this.element=document.createElement("div"),this.element.classList.add(this.Class.BASE),this.element.classList.add(this.Class.STATE_LOCKED),this.element.innerText="Pocket",this.element.addEventListener("mouseover",this.onMouseOver.bind(this)),this.element.addEventListener("mouseleave",this.onMouseLeave.bind(this)),this.checkbox=document.createElement("input"),this.checkbox.setAttribute("type","checkbox"),this.checkbox.classList.add(this.Class.LOCK),this.checkbox.addEventListener("change",this.onLockChange.bind(this)),this.element.appendChild(this.checkbox),this.button=document.createElement("button"),this.button.classList.add(this.Class.BUTTON),this.button.innerText="+",this.button.addEventListener("click",this.addGroup.bind(this)),this.element.appendChild(this.button),document.body.appendChild(this.element),this.bindSortables(),this.addGroup("foo"),this.addGroup("bar")}return t.prototype.Class={BASE:"pocket",BUTTON:"pocket-button",LOCK:"pocket-lock",STATE_OPEN:"pocket-open",STATE_LOCKED:"pocket-locked"},t.prototype.className=null,t.prototype.element=null,t.prototype.checkbox=null,t.prototype.onMouseOver=function(){return this.element.classList.add(this.Class.STATE_OPEN)},t.prototype.onMouseLeave=function(){return this.element.classList.remove(this.Class.STATE_OPEN)},t.prototype.onLockChange=function(){return this.checkbox.checked?this.element.classList.add(this.Class.STATE_LOCKED):this.element.classList.remove(this.Class.STATE_LOCKED)},t.prototype.addGroup=function(t){return this.element.appendChild("string"==typeof t?new PocketGroup(this.className,t):new PocketGroup(this.className))},t.prototype.bindSortables=function(){return $("."+this.className).sortable({connectWith:"."+this.className,placeholder:"pocket-placeholder"}).disableSelection()},t}(),window.Pocket=t}.call(this);